# Cards Management Microservice

This README provides an overview of the Cards Management Microservice in the CedarPay platform. This microservice is responsible for generating Fortuneo virtual credit cards for end-users in Lebanon. It outlines the process of card generation, validation of user requests, tracking live balances, and other related functionalities.

## Overview

The CedarPay platform leverages the Fortuneo web account, owned by the platform operator, to generate virtual credit cards for end-users in Lebanon. This process is facilitated by utilizing Goroutines for each user interaction. Each Goroutine interacts with the Fortuneo bank web account via a headless browser to generate virtual credit cards, validate transactions within the limits, and track individual card balances by scraping the account history. Here's how it works:

1. **User Requests**: When a user requests a virtual credit card or initiates a transaction, a Goroutine is initiated to handle their request.

2. **Fortuneo Web Account**: The microservice interacts with the Fortuneo web account owned by the platform operator.

3. **Card Generation**: The microservice generates a unique virtual credit card for the user using the operator's Fortuneo account.

4. **Validation**: Transactions within the predefined limits are validated by sending notifications to the web account and should be validated.

5. **Live Balance Tracking**: The microservice scrapes the account history to track each user's virtual card balances in real-time.

6. **Response Time**: Please note that the user's response, including the issuance of virtual credit cards, can take between 2 to 5 hours. During this time, the user will be notified about the status of their request. This delay is to ensure we have the requested balance in the bank account.

7. **Live Balance Tracking**: The microservice scrapes the account history to track each user's virtual card balances in real-time.


## Virtual Card Functionality

### Payment Limits
Virtual cards generated through the platform are subject to predefined spending limits. Transactions exceeding these limits will be directly rejected.
### Card Inactivation
When a virtual card's balance reaches zero, it becomes inactive. Users will no longer be able to use the card for transactions until the balance is replenished.

## Tracking User Live Virtual Card Balances

The CedarPay platform provides real-time updates on the credited amounts and specifies the balance for each virtual card separately. This information is obtained by scraping the account history of the platform operator's Fortuneo account. Users can view their virtual card balances and transaction history through the CedarPay platform.

## Unique Card Numbers

Each virtual credit card generated by the CedarPay platform will have a unique card number. This ensures security and prevents duplicate card numbers from being issued to different users.

In conclusion, the Cards Management Microservice in the CedarPay platform seamlessly integrates with the Fortuneo web account owned by the platform operator. It utilizes Goroutines for efficient processing, enforces payment limits, tracks live balances by scraping the account history, and ensures the uniqueness of card numbers for each user. Validation of transactions within limits is facilitated by notifications to the platform operator via the Fortuneo web account. Users can access real-time information on their virtual card balances and transactions through the CedarPay platform.
